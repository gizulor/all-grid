<!DOCTYPE html>
<html lang="<txp:lang />" dir="<txp:text item="lang_dir" />">

<txp:output_form form="head" />
	<!-- Demo only -->
	<txp:variable name="menu" value='<txp:page_url type="menu" />' default="" />
	<txp::body_header menu='<txp:variable name="menu" />' />
	<!-- End Demo only -->
		
	<txp:hide><!--  Production code: use <txp::body_header /> or <txp::body_header menu="hamburger" /> to output form body_header --></txp:hide>
		

	<main id="main" aria-label="<txp:text item="main_content" />" itemscope itemtype="https://schema.org/CreativeWork">

		<!-- is this the search result page? also omits the pagination links below (uses pagination format within search_display.txp instead) -->
		<txp:if_search>
			<txp:output_form form="search_display" />
		<txp:else />

			<!-- else is this the front page? -->
			<txp:if_section name=",default">
				<txp:article limit="1" form="hero" status="sticky" />
				<ul class="all-grid list-bare">
					<txp:article form="article_listing" sort="category1 asc, rand()" limit="20" allowoverride="0"/>
					<!-- include elements to help the grid css algorithm fill in empty spaces (.all-grid uses grid-auto-flow: dense;) -->
					<txp:output_form form="body_aside" wraptag="li" class="all-grid__thumb links-social image--is-omitted bgr--<txp::random_number to="10" />" />
				</ul>

			<txp:else />

				<txp:if_article_list>

					<txp:if_category>
						<header class="u-content-padding flow">
							<h1 itemprop="name" class="all-grid--uifont"><txp:text item="category" />: <txp:category title /></h1>
							<txp:evaluate><txp:meta_description type="category" format="" wraptag="p" class="t-lc"/></txp:evaluate>
						</header>
					</txp:if_category>

					<txp:article limit="1" form="hero" status="sticky" />
					<txp:article form="article_listing" allowoverride="0" limit="20" wraptag="ul" class="all-grid list-bare" />

				<txp:else />

					<txp:article status="sticky" />
					<txp:article status="live" />

				</txp:if_article_list>

			</txp:if_section>

			<txp:output_form form="body_pagination" />

		</txp:if_search>

	</main>

	<txp:output_form form="body_footer" />

</body>
</html>