!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.KenBurnsCarousel=n()}(this,(function(){"use strict";function t(t,n){if(t===n||!t&&!n)return!0;if(!t||!n||t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}const n=["ken-burns-bottom-right","ken-burns-top-left","ken-burns-bottom-left","ken-burns-top-right","ken-burns-middle-left","ken-burns-middle-right","ken-burns-top-middle","ken-burns-bottom-middle","ken-burns-center"],e=document.createElement("template");e.innerHTML="\n<style>\n    :host {\n        overflow: hidden;\n        position: relative;\n    }\n\n    div, img {\n        height: 100%;\n        width: 100%;\n    }\n\n    div {\n        position: absolute;\n        will-change: transform;\n    }\n\n    img {\n        filter: var(--img-filter);\n        object-fit: cover;\n    }\n\n    @keyframes fade-in {\n        from {\n            opacity: 0;\n        }\n        to {\n            opacity: 1;\n        }\n    }\n\n    @keyframes ken-burns-bottom-right {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(-10%, -7%, 0);\n        }\n    }\n    @keyframes ken-burns-top-right {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(-10%, 7%, 0);\n        }\n    }\n    @keyframes ken-burns-top-left {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(10%, 7%, 0);\n        }\n    }\n    @keyframes ken-burns-bottom-left {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(10%, -7%, 0);\n        }\n    }\n    @keyframes ken-burns-middle-left {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(10%, 0, 0);\n        }\n    }\n    @keyframes ken-burns-middle-right {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(-10%, 0, 0);\n        }\n    }\n    @keyframes ken-burns-top-middle {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(0, 10%, 0);\n        }\n    }\n    @keyframes ken-burns-bottom-middle {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5) translate3d(0, -10%, 0);\n        }\n    }\n    @keyframes ken-burns-center {\n        to {\n            transform: scale3d(1.5, 1.5, 1.5);\n        }\n    }\n</style>\n","object"==typeof window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,"ken-burns-carousel");class i extends HTMLElement{constructor(){super(),this.animationNames=n,this.animationDirection="random",this._fadeDuration=2500,this._imgList=[],this._slideDuration=2e4,this._timeout=0,this._zCounter=0,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e.content.cloneNode(!0))}static get observedAttributes(){return["animation-direction","animation-names","fade-duration","images","slide-duration"]}get fadeDuration(){return this._fadeDuration}set fadeDuration(t){if(t>this.slideDuration)throw new RangeError("Fade duration must be smaller than slide duration");this._fadeDuration=t}get images(){return this._imgList}set images(n){t(this._imgList,n)||(this._imgList=n,0<n.length?this.animateImages(n):this.stop())}get slideDuration(){return this._slideDuration}set slideDuration(t){if(t<this.fadeDuration)throw new RangeError("Slide duration must be greater than fade duration");this._slideDuration=t}attributeChangedCallback(t,e,i){"animation-direction"===t?this.animationDirection=i:"animation-names"===t?this.animationNames=i?i.split(" ").filter((t=>t)):n:"fade-duration"===t?this.fadeDuration=+i:"images"===t?this.images=i?i.split(" ").filter((t=>t)):[]:"slide-duration"===t&&(this.slideDuration=+i)}connectedCallback(){"object"==typeof window.ShadyCSS&&window.ShadyCSS.styleElement(this)}animateImages(n){const e=(t,i)=>{const a=Math.random(),s=Math.floor(a*this.animationNames.length),o="random"===this.animationDirection?.5<a?"normal":"reverse":this.animationDirection,r=document.createElement("div");r.appendChild(i),r.style.animationName=`${this.animationNames[s]}, fade-in`,r.style.animationDuration=`${this.slideDuration}ms, ${this.fadeDuration}ms`,r.style.animationDirection=`${o}, normal`,r.style.animationTimingFunction="linear, ease",r.style.zIndex=this._zCounter+++"",this.shadowRoot.appendChild(r),setTimeout((()=>r.remove()),this.slideDuration);const d=(t+1)%n.length,m=document.createElement("img");m.src=n[d],this._timeout=setTimeout((()=>e(d,m)),this.slideDuration-this.fadeDuration)},i=document.createElement("img");i.src=n[0],i.onload=()=>{t(this._imgList,n)&&(this.stop(),e(0,i))}}stop(){clearTimeout(this._timeout),this._timeout=0}}return customElements.define("ken-burns-carousel",i),i}));